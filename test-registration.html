<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test Registration</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.38.4/dist/umd/supabase.min.js"></script>
    <script src="modules/auth.js"></script>
</head>
<body>
    <h1>Test Registration</h1>
    <button onclick="testRegistration()">Test Register Manager</button>
    <div id="result"></div>
    
    <script>
        async function testRegistration() {
            const result = await auth.registerManager(
                'test' + Date.now() + '@example.com',
                'password123',
                'Test Company ' + Date.now()
            );
            
            document.getElementById('result').innerHTML = `
                <h3>Result:</h3>
                <p>Success: ${result.success}</p>
                <p>Error: ${result.error || 'None'}</p>
                <p>Message: ${result.message || 'None'}</p>
                <p>LocalStorage Role: ${localStorage.getItem('cleaning_timesheet_role')}</p>
                <p>LocalStorage Company: ${localStorage.getItem('cleaning_timesheet_company_id')}</p>
            `;
        }
    </script>
</body>
</html>
